<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="pt-br">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="Description" content="Controle Bezerras">
    <meta http-equiv="Content-Language" content="pt-br">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/img/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/img/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/img/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/img/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/img/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/img/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/img/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/img/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png">
    <meta name="msapplication-TileColor" content="#436073">
    <meta name="msapplication-TileImage" content="/img/ms-icon-144x144.png">
    <meta name="theme-color" content="#436073">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link href="/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <link href="/css/style.css" rel="stylesheet" >
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <title>Bezerro</title>
  </head>
  <body>
    <nav class="navbar navbar-default">
      <div class="menu">
        <div class="navbar-header">
          <button type="button" title="Menu" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="">Controle Bezerras</a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav">
            <li><a href="/index">Painel</a></li>
            <li class="active"><a href="/bezerro/listabezerros" style="color:#000 !important;">Bezerros</a></li>
            <li><a href="/vaca/listavacas">Vacas</a></li>
            <li><a href="/touro/listatouros">Touros</a></li>
            <li><a href="/manejo/listamanejo">Manejo</a></li>
          </ul>
<!--           <ul class="nav navbar-nav navbar-right"> -->
<!--             <li class="dropdown"> -->
<!--               <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Usuário<span class="caret"></span></a> -->
<!--               <ul class="dropdown-menu"> -->
<!--                 <li><a href="alterarSenha">Alterar senha</a></li> -->
<!--                 <li role="separator" class="divider"></li> -->
<!--                 <li><a href="sair">Sair</a></li> -->
<!--               </ul> -->
<!--             </li> -->
<!--           </ul> -->
        </div>
      </div>
    </nav>
    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-6">
          <blockquote>
            <h1>Bezerro</h1>
          </blockquote>
        </div>
        <div class="col-sm-6 text-right">
          <h5>Última atualização dia <span th:text="${dataEHoraAtual}"></span> horas</h5>
        </div>
      </div>
      <div class="container-fluid panel">
        <form  th:action="@{/bezerro/salvar}" th:object="${bezerro}" method="post" style="margin-bottom: 50px;">
          <input type="hidden" class="form-control" th:field="*{id}"/>
          <div class="row">
            <div class="col-sm-8">
              <div class="form-group">
                <label for="rdSexo">Sexo</label>
                <div class="radio inline" id="rdSexo">
                  <label class="radio-inline btn btn-lg btn-default macho">
                    <input type="radio" th:field="*{sexo}"
                    value="MACHO" required="required"/> Macho
                  </label>
                  <label class="radio-inline btn btn-lg btn-default femea">
                    <input type="radio" th:field="*{sexo}"
                    value="FEMEA" required="required"/> Fêmea
                  </label>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-4">
              <div class="form-group">
                <label for="numero">Número</label> <input type="number" class="form-control" th:field="*{numero}"/>
              </div>
            </div>
            <div class="col-sm-4">
              <div class="form-group">
                <label for="nome">Nome</label> <input type="text" class="form-control" th:field="*{nome}" required="required"/>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-4">
              <div class="form-group">
                <label for="dataNascimento">Data de Nascimento</label> <input type="date" class="form-control" th:field="*{dataNascimento}" required="required"/>
              </div>
            </div>
            <div class="col-sm-4">
              <div class="form-group">
                <label for="status">Status atual</label>
                <select class="form-control input" id="status" th:field="*{status}">
                  <option th:each="status : ${status}"
                    th:value="${status}"
                    th:utext="${status.descricao}"/>
                  </select>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-4">
                <div class="form-group">
                  <label for="idvaca">Mãe</label>
                  <div class="input-group">
                    <input type="hidden" class="form-control" id="idvaca" th:field="*{vaca.id}"/>
                    <input type="text" class="form-control ui-autocomplete-input" th:field="*{vaca.nome}" id="autocompleteVacas" required="required" placeholder="busque pelo número ou nome da vaca"/>
                    <span class="input-group-btn">
                      <button class="btn btn-primary" type="button" data-toggle="modal" title="Adicionar Vaca" data-target="#modalVaca"><i class="fas fa-plus"></i></button>
                    </span>
                  </div>
                  <span class="text-muted text-center">Caso não encontrar adicione a vaca no botão de + acima</span>
                </div>
              </div>
              <div class="col-sm-4">
                <div class="form-group">
                  <label for="idtouro">Pai</label>
                  <div class="input-group">
                    <input type="hidden" class="form-control" id="idtouro" th:field="*{touro.id}"/>
                    <input type="text" class="form-control ui-autocomplete-input" th:field="*{touro.nome}" id="autocompleteTouros" required="required" placeholder="busque pelo número ou nome do touro"/>
                    <span class="input-group-btn">
                      <button class="btn btn-primary" type="button" data-toggle="modal" title="Adicionar Touro" data-target="#modalTouro"><i class="fas fa-plus"></i></button>
                    </span>
                  </div>
                  <span class="text-muted text-center">Caso não encontrar adicione o touro no botão de + acima</span>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-4">
                <div class="col-sm-5" style="padding-left: 0px !important; padding-right: 0px !important;">
                  <div class="form-group">
                    <label for="peso">Peso</label> <input type="text" id="peso" class="form-control" th:field="*{pesoInicial}" placeholder="EX: 45.00 ou 52.700" />
                    
                    <input th:if="*{ultimaPesagem} != null" type="hidden" id="ultimaPesagem" class="form-control" th:field="*{ultimaPesagem}"/>
                  <input th:if="*{dataUltimaPesagem} != null" type="hidden" id="dataUltimaPesagem" class="form-control" th:field="*{dataUltimaPesagem}"/>
                  </div>
                </div>
                <div class="col-sm-2">
                </div>
                <div class="col-sm-5" style="padding-left: 0px !important; padding-right: 0px !important;">
                  <div class="form-group">
                    <label for="altura">Altura</label> <input type="text" id="altura" class="form-control" th:field="*{alturaInicial}" placeholder="EX: 0.70 ou 0.84" />
                  <input th:if="*{ultimaMedida} != null" type="hidden" id="ultimaMedida" class="form-control" th:field="*{ultimaMedida}"/>
                  <input th:if="*{dataUltimaMedida} != null" type="hidden" id="dataUltimaMedida" class="form-control" th:field="*{dataUltimaMedida}"/>
                 
                  </div>
                </div>
              </div>
            <div class="col-sm-4">
              <div class="form-group">
                <label for="raca">Raça</label>
                <select class="form-control input" id="raca" th:field="*{raca}">
                  <option th:each="raca : ${raca}"
                    th:value="${raca}"
                    th:utext="${raca.descricao}"/>
                  </select>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-8">
                <div class="form-group">
                  <label for="observacao">Observação</label> <input type="text" class="form-control" th:field="*{observacao}" />
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-xs-12 col-sm-8">
                <div class="pull-right">
                  <a th:if="*{id} != null" th:href="@{/bezerro/excluir/{codigo}(codigo=${bezerro.id})}" title="Excluir Bezerro" class="btn btn-md no-margin no-padding btn-danger">
                  <i class="fas fa-trash-alt"></i> Excluir</a>
                </div>
                <button type="submit" class="btn btn-success"><i class="fas fa-check"></i> Salvar</button>
              </div>
            </div>
          </form>
        </div>
      </div>
      <div th:insert="rodape :: copy"></div>
      <div th:insert="modalVaca :: copy"></div>
      <div th:insert="modalTouro :: copy"></div>
      <script type="text/javascript" src="/js/jquery.js"></script>
      <script type="text/javascript" src="/bootstrap/js/bootstrap.min.js"></script>
      <script type="text/javascript" src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
      <script type="text/javascript" src="/js/formVaca.js"></script>
      <script type="text/javascript" src="/js/formTouro.js"></script>
      <script type="text/javascript" src="/js/jquery.mask.min.js"></script>
      <script type = "text/javascript">
		  $("#autocompleteVacas").autocomplete({
		    delay: 500,
		    minLength: 0,
		    source: function(request, response) {
		      $.ajax({
		        url: "/vaca/vacas",
		        dataType: "json",
		        data: {
		          'vacas': request.term
		        },
		        success: function(data) {
		          response(data);
		        },
		        error: function(textStatus) {
		          console.log(textStatus);
		        }
		      });
		    },
		    select: function(event, ui) {
		      $("#idvaca").val(ui.item.data);
		    }
		  });
		$('#autocompleteVacas').click(
		  function() {
		    $(this).autocomplete('search', '')
		  }); 
	  </script> 
	  <script type = "text/javascript">
		  $("#autocompleteTouros").autocomplete({
		    delay: 500,
		    minLength: 0,
		    source: function(request, response) {
		      $.ajax({
		        url: "/touro/touros",
		        dataType: "json",
		        data: {
		          'touros': request.term
		        },
		        success: function(data) {
		          response(data);
		        },
		        error: function(textStatus) {
		          console.log(textStatus);
		        }
		      });
		    },
		    select: function(event, ui) {
		      $("#idtouro").val(ui.item.data);
		    }
		  });
		$('#autocompleteTouros').click(
		  function() {
		    $(this).autocomplete('search', '')
		  }); 
	  </script>
      <script type="text/javascript">$("#peso").mask("00.000");</script>
      <script type="text/javascript">$("#altura").mask("0.00");</script>
    </body>
  </html>	
  